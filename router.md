## 接口设计

### 用户注册接口

**路径**：`/user/register`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：否

#### 参数

| 参数名称    | 参数含义                          | 参数是否必须 | 参数类型 |
|-------------|-----------------------------------|--------------|----------|
| `username`  | 用户名 8-16位                     | 是           | str      |
| `password`  | 密码，长度8-16位，md5加密         | 是           | str      |
| `role`      | 类型，学生或者老师，默认：学生    | 是           | str      |
| `jobnum`    | 工号，8位数字                     | 否           | int      |
| `studentnum`| 学籍号，16位数字                  | 否           | int      |
| `sex`       | 性别，男女                        | 是           | str      |
| `age`       | 年龄，必须大于18，小于65          | 是           | int      |

#### 接口返回

接口以 JSON 格式返回数据：

```json
{
  "code": 200,
  "data": "成功",
  "message": "成功"
}
```
### 登录接口

**路径**：`/user/login`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：否

#### 请求参数

| 字段       | 含义   | 是否必须 | 类型 |
|------------|--------|----------|------|
| `username` | 用户名 | 是       | str  |
| `password` | 密码   | 是       | str  |


### 个人信息接口

**路径**：`/user/info`

**请求方式**：POST

**请求格式**：JSON

**请求参数**：无

**是否依赖登录**：是


### 修改密码接口

**路径**：`/user/changepassword`

**请求方式**：POST

**请求格式**：JSON

**返回格式**：JSON

**是否依赖登录**：是

#### 参数

| 参数        | 说明   | 是否必须 | 类型 |
|-------------|--------|----------|------|
| `oldpassword` | 原密码 | 是       | str  |
| `newpassword` | 新密码 | 是       | str  |

### 留言接口

**路径**：`/user/addmessage`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数      | 含义     | 是否必须 | 类型 |
|-----------|----------|----------|------|
| `id`      | 用户id   | 是       | int  |
| `message` | 内容     | 是       | str  |

### 留言列表接口

**路径**：`/user/messagelist`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

**请求参数**：无

### 回复留言接口

**路径**：`/user/rebackmessage/`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数      | 含义       | 是否必须 | 类型 |
|-----------|------------|----------|------|
| `id`      | 留言的id   | 是       | int  |
| `message` | 内容       | 是       | str  |

### 删除留言接口

**路径**：`/user/deletemessage/{id}`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义     | 是否必须 | 类型 |
|------|----------|----------|------|
| `id` | 留言的id | 是       | -    |

*注：`id` 参数作为 URL 路径的一部分传递。*

### 创建课程接口

**路径**：`/course/create`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数       | 含义                       | 是否必须 | 类型   |
|------------|----------------------------|----------|--------|
| `name`     | 课程名称（长度2-50）       | 是       | str    |
| `icon`     | 课程的icon                 | 否       | str    |
| `desc`     | 描述                       | 否       | text   |
| `catalog`  | 目录                       | 否       | json   |
| `onshelf`  | 是否上架（0上架，1下架）   | 是       | -      |

### 课程详情接口

**路径**：`/course/detail/{id}`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义   | 是否必须 | 类型 |
|------|--------|----------|------|
| `id` | 课程id | 是       | -    |

*注：`id` 参数作为 URL 路径的一部分传递。*

### 编辑课程接口

**路径**：`/course/edit`

**请求方式**：PUT

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数       | 含义                       | 是否必须 | 类型   |
|------------|----------------------------|----------|--------|
| `name`     | 课程名称（长度2-50）       | 是       | str    |
| `id`       | 课程id                     | 是       | int    |
| `icon`     | 课程icon                   | 否       | str    |
| `desc`     | 课程描述                   | 否       | str    |
| `catalog`  | 课程目录                   | 否       | json   |
| `onshelf`  | 是否上架（0上架，1下架）   | 是       | -      |

### 查看课程评论接口

**路径**：`/course/viewcomments/{id}`

**请求方式**：GET

**请求格式**：无

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义   | 是否必须 | 类型 |
|------|--------|----------|------|
| `id` | 课程id | 是       | int  |

*注：`id` 参数作为 URL 路径的一部分传递。*

### 课程评论接口

**路径**：`/course/comments`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数     | 含义       | 是否必须 | 类型 |
|----------|------------|----------|------|
| `id`     | 课程id     | 是       | int  |
| `content`| 评论内容   | 是       | str  |

### 加入课程接口

**路径**：`/course/add/{id}`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义   | 是否必须 | 类型 |
|------|--------|----------|------|
| `id` | 课程id | 是       | -    |

*注：`id` 参数作为 URL 路径的一部分传递。*

### 退出课程接口

**路径**：`/course/quit/{id}`

**请求方式**：POST

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义   | 是否必须 | 类型 |
|------|--------|----------|------|
| `id` | 课程id | 是       | -    |

*注：`id` 参数作为 URL 路径的一部分传递。*

### 课程列表接口

**路径**：`/course/list`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

**请求参数**：无

### 当前用户的课程列表接口

**路径**：`/course/courselist`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

**请求参数**：无

### 推荐课程列表接口

**路径**：`/course/recommend`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

**请求参数**：无

### 课程点赞接口

**路径**：`/course/like/{id}`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义   | 是否必须 | 类型 |
|------|--------|----------|------|
| `id` | 课程id | 是       | -    |

*注：`id` 参数作为 URL 路径的一部分传递。*

### 课程上架接口

**路径**：`/course/onshelf/{id}`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义   | 是否必须 | 类型 |
|------|--------|----------|------|
| `id` | 课程id | 是       | -    |

*注：`id` 参数作为 URL 路径的一部分传递。*

### 课程下架接口

**路径**：`/course/offshelf/{id}`

**请求方式**：GET

**请求格式**：JSON

**是否依赖登录**：是

#### 请求参数

| 参数 | 含义   | 是否必须 | 类型 |
|------|--------|----------|------|
| `id` | 课程id | 是       | -    |

*注：`id` 参数作为 URL 路径的一部分传递。*
